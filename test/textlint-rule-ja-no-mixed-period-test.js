const TextLintTester = require("textlint-tester");
const tester = new TextLintTester();
import rule from "../src/textlint-rule-ja-no-mixed-period";
tester.run("textlint-rule-ja-no-mixed-period", rule, {
    valid: [
        "ã“ã‚Œã¯å•é¡Œãªã„ã§ã™ã€‚",
        "1è¡Œç›®ã€‚\n2è¡Œç›®ã€‚\n3è¡Œç›®ã€‚",
        "1è¡Œç›®ã€‚  \nHard Breakã‚’å…¥ã‚Œã‚‹ãƒ‘ã‚¿ãƒ¼ãƒ³ã€‚",
        "1è¡Œç›®  ç©ºç™½ã¯ã‚ã‚‹ã‘ã©æœ«å°¾ã«å¥ç‚¹ã¯ã‚ã‚‹ã€‚",
        // ä¾‹å¤–: æ„Ÿå˜†ç¬¦ãªã©ãŒæœ«å°¾ã«ã‚ã‚‹å ´åˆã¯å•é¡Œãªã—
        "æœ«å°¾ã«å¥ç‚¹ã¯ã‚ã‚‹!",
        "english only",
        // ä¾‹å¤–ã®Node type
        `- ç®‡æ¡æ›¸ãã¯ç„¡è¦–ã•ã‚Œã‚‹`,
        `![ç”»åƒã®èª¬æ˜ã‚‚ç„¡è¦–ã•ã‚Œã‚‹](img/img.png)`,
        `[ãƒªãƒ³ã‚¯ã®èª¬æ˜ã‚‚ç„¡è¦–ã•ã‚Œã‚‹](http://example.com)`,
        `[ãƒªãƒ³ã‚¯ãƒªãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ã‚‚][]`,
        `__å¼·èª¿è¡¨ç¤ºã‚‚åŒã˜ã__`,
        `> å¼•ç”¨ã‚‚ç„¡è¦–ã•ã‚Œã‚‹`,
        {
          text: "çµµæ–‡å­—ãŒæœ«å°¾ã«ã‚ã‚‹ã€‚ğŸ˜†",
          options: {
            allowEmojiAtEnd: true
          },
        },
    ],
    invalid: [
        // single match
        {
            text: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“",
            output: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 1,
                    column: 11
                }
            ]
        },
        // multiple match in multiple lines
        {
            text: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“\n\nã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“",
            output: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚\n\nã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 1,
                    column: 11
                },
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 3,
                    column: 11
                }
            ]
        },
        {
            text: "æœ«å°¾ã«ã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚‹ã€‚ ",
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚æœ«å°¾ã«ä¸è¦ãªã‚¹ãƒšãƒ¼ã‚¹ãŒã‚ã‚Šã¾ã™ã€‚`,
                    line: 1,
                    column: 12
                }
            ]
        },
        // multiple hit items in a line
        {
            text: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“",
            output: "ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€ã“ã‚Œã¯å¥ç‚¹ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 1,
                    column: 23
                }
            ]
        },
        // options
        {
            text: "ã“ã‚Œã¯ãƒ€ãƒ¡",
            output: "ã“ã‚Œã¯ãƒ€ãƒ¡.",
            options: {
                periodMark: "."
            },
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"."ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 1,
                    column: 5
                }
            ]
        },
        // emojis are not allowed by default
        {
            text: "çµµæ–‡å­—ãŒæœ«å°¾ã«ã‚ã‚‹ã€‚ğŸ˜†",
            errors: [
                {
                    message: `æ–‡æœ«ãŒ"ã€‚"ã§çµ‚ã‚ã£ã¦ã„ã¾ã›ã‚“ã€‚`,
                    line: 1,
                    column: 11
                }
            ]
        },
    ]
});
